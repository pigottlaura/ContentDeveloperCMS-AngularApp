<h2>Project Settings</h2>
<button (click)="saveAllProjectSettings()">Save All</button>
<button (click)="resetAllProjectSettings()">Reset All</button>

<div *ngIf="projectSettings != null">
  <div class="row">
    <h3>General</h3>

    <div [class]="isAdmin ? 'col-6-12' : 'col-12-12'">
      <div class="row">
        <label>Project Name:
          <input #pnInput type="text" [(ngModel)]="projectSettings.project_name">
        </label>
      </div>

      <div class="row" *ngIf="isAdmin">
        <label>Maximum Content Cache Time (in milliseconds)
          <input #pmcInput type="number" [(ngModel)]="projectSettings.max_cache_age">ms
        </label>
      </div>

      <div class="row" *ngIf="isAdmin">
        <label>Allowed Update Origins:
          <textarea [(ngModel)]="projectSettings.update_origins"></textarea>
        </label>
      </div>

      <div class="row" *ngIf="isAdmin">
        <label>Allowed Read Origins:
          <textarea [(ngModel)]="projectSettings.read_origins"></textarea>
        </label>
      </div>
    </div>

    <div class="col-6-12" *ngIf="isAdmin">
      <div class="row">
        <label>Custom Content Editor CSS
          <textarea
            #cssInput
            class="customCss"
            [(ngModel)]="projectSettings.custom_css">
          </textarea>
        </label>
      </div>
    </div>
  </div>

  <div class="row">
    <div [class]="isAdmin ? 'col-6-12' : 'col-12-12'">
      <app-collaborators
        [projectSettings]="projectSettings"
        (collaboratorsUpdated)="updateSettings()"></app-collaborators>
    </div>
    <div class="col-6-12" *ngIf="isAdmin">
      <app-access-levels
        [projectSettings]="projectSettings"
        (accessLevelsUpdated)="updateSettings()"></app-access-levels>
    </div>
  </div>

  <div class="row" *ngIf="isAdmin">
    <h3>Delete Project</h3>
    <div class="row" >
        <label>Project Name:
          <input #pName type="text">
        </label>
        <button (click)="deleteProject(pName.value)">Confirm Delete (can't undo)</button>
    </div>
  </div>
</div>